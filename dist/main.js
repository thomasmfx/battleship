(()=>{"use strict";var e={664:(e,t,r)=>{r.d(t,{A:()=>o});var A=r(354),n=r.n(A),i=r(314),a=r.n(i)()(n());a.push([e.id,"@import url(https://fonts.bunny.net/css?family=poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i);"]),a.push([e.id,"*,*::before,*::after{box-sizing:border-box}*{margin:0;padding:0}body{line-height:1.5;-webkit-font-smoothing:antialiased}img,picture,svg,video,canvas{display:block;max-width:100%}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}input,button,textarea,select{font:inherit}body{font-family:Poppins,Helvetica,Arial,Verdana,sans-serif;font-weight:500}.boards-container{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;grid-row:3/4;grid-column:1/-1;gap:10em}.board{user-select:none;position:relative;height:500px;width:500px;display:grid;grid-template-columns:repeat(11, 1fr);grid-template-rows:repeat(11, 1fr)}.board__edge{grid-row:1/2;grid-column:1/2}.board__grid{grid-column:2/-1;grid-row:2/-1;display:grid;grid-template-columns:repeat(10, 1fr);grid-template-rows:repeat(10, 1fr)}.board__column-legend,.board__row-legend{display:flex;justify-content:center;align-items:center;flex-wrap:no-wrap;flex-direction:column}.board__square{border:1px solid #000;background:#4169e1;width:100%;height:100%;padding:5px}.profile{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:column;position:absolute;top:-30%;left:45%}.profile__picture{width:100px;height:100px;overflow:hidden;border-radius:50%;border:3px solid #09244b}.profile__name{margin-top:.5em}.ship{display:flex;flex-direction:column-reverse;position:relative;cursor:grab}.ship-part{width:45px;height:45px;border:1px solid #000}.ship-cover{background:#ff8008;background:-webkit-linear-gradient(to top, #FFC837, #FF8008);background:linear-gradient(to top, #FFC837, #FF8008);border:2px solid #000}.actions-modal{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:column;user-select:none;color:#09244b;gap:2em}.actions-modal__randomize{display:flex;justify-content:center;align-items:center;flex-wrap:no-wrap;flex-direction:row;cursor:pointer;gap:.5em}.actions-modal__start-game{cursor:pointer;padding:.6em 1em;background:#29bf12;border:solid #29bf12;border-radius:.4em;color:#09244b}.actions-modal__start-game:hover{filter:brightness(105%)}.win-modal{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:column;user-select:none;row-gap:1em;grid-row:-2/-1;grid-column:1/-1}.win-modal__message{text-align:center;font-size:3rem;color:#09244b}.win-modal__reset-btn{cursor:pointer;padding:.6em 1em;background:#ffc837;border:solid #ffc837;border-radius:.4em;color:#09244b}.win-modal__reset-btn:hover{filter:brightness(105%)}.hidden{display:none !important;visibility:hidden}.main{height:100dvh;width:100%;display:grid;grid-template-columns:repeat(12, 1fr);grid-template-rows:3em 1fr 5fr 2fr}.github{grid-row:-2/-1;grid-column:1/2;text-decoration:none;padding:1em;justify-self:start;align-self:end}","",{version:3,sources:["webpack://./src/styles/base/_typography.scss","webpack://./src/styles/base/_reset.scss","webpack://./src/styles/components/_boards.scss","webpack://./src/styles/utils/_mixins.scss","webpack://./src/styles/utils/_variables.scss","webpack://./src/styles/components/_players-profile.scss","webpack://./src/styles/components/_ships.scss","webpack://./src/styles/components/_modals.scss","webpack://./src/styles/layout/_main.scss"],names:[],mappings:"AAAQ,qBCCN,qBAAA,CAGF,EACE,QAAA,CACA,SAAA,CAGF,KACE,eAAA,CACA,kCAAA,CAGF,6BACE,aAAA,CACA,cAAA,CAGF,oBACE,wBAAA,CAGF,6BACE,YAAA,CDtBF,KACE,sDAAA,CACA,eAAA,CEDF,kBAAA,YAAA,CCCE,sBAAA,CACA,kBAAA,CACA,cDFqB,CCGrB,kBDH2B,CAC3B,YAAA,CACA,gBAAA,CACA,QAAA,CAGF,OACE,gBAAA,CACA,iBAAA,CACA,YAAA,CACA,WAAA,CACA,YAAA,CACA,qCAAA,CACA,kCAAA,CAEA,aACE,YAAA,CACA,eAAA,CAGF,aACE,gBAAA,CACA,aAAA,CACA,YAAA,CACA,qCAAA,CACA,kCAAA,CAGF,yCC7BA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,iBD4BuB,CC3BvB,qBD2BgC,CAIlC,eACE,qBAAA,CACA,kBExCc,CFyCd,UAAA,CACA,WAAA,CACA,WAAA,CGxCF,SAAA,YAAA,CFCE,sBAAA,CACA,kBAAA,CACA,cEFqB,CFGrB,qBEH2B,CAC3B,iBAAA,CACA,QAAA,CACA,QAAA,CAEA,kBACE,WAAA,CACA,YAAA,CACA,eAAA,CACA,iBAAA,CACA,wBAAA,CAGF,eACE,eAAA,CCfJ,MACE,YAAA,CACA,6BAAA,CACA,iBAAA,CACA,WAAA,CAGF,WACE,UAAA,CACA,WAAA,CACA,qBAAA,CAGF,YHLE,kBAAA,CACA,4DAAA,CACA,oDAAA,CGKA,qBAAA,CCfF,eAAA,YAAA,CJCE,sBAAA,CACA,kBAAA,CACA,cIFqB,CJGrB,qBIH2B,CAC3B,gBAAA,CACA,aHLgB,CGMhB,OAAA,CAEA,0BJNA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,iBIIuB,CJHvB,kBIGgC,CAC9B,cAAA,CACA,QAAA,CAGF,2BJEA,cAAA,CACA,gBAAA,CACA,kBChBiB,CDiBjB,oBAAA,CACA,kBAAA,CACA,aCrBgB,CDuBhB,iCACE,uBAAA,CILJ,WJjBE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,cIeqB,CJdrB,qBIc2B,CAC3B,gBAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CAEA,oBACE,iBAAA,CACA,cAAA,CACA,aH7Bc,CGgChB,sBJhBA,cAAA,CACA,gBAAA,CACA,kBCjBe,CDkBf,oBAAA,CACA,kBAAA,CACA,aCrBgB,CDuBhB,4BACE,uBAAA,CIaJ,QACE,uBAAA,CACA,iBAAA,CCxCF,MACE,aAAA,CACA,UAAA,CACA,YAAA,CACA,qCAAA,CACA,kCAAA,CAGF,QACE,cAAA,CACA,eAAA,CACA,oBAAA,CAEA,WAAA,CACA,kBAAA,CACA,cAAA",sourceRoot:""}]);const o=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",A=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),A&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),A&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,A,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(A)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(a[s]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);A&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),n&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=n):l[4]="".concat(n)),t.push(l))}},t}},354:e=>{e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var A=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A),i="/*# ".concat(n," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function r(e){for(var r=-1,A=0;A<t.length;A++)if(t[A].identifier===e){r=A;break}return r}function A(e,A){for(var i={},a=[],o=0;o<e.length;o++){var s=e[o],c=A.base?s[0]+A.base:s[0],l=i[c]||0,d="".concat(c," ").concat(l);i[c]=l+1;var p=r(d),C={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(C);else{var u=n(C,A);A.byIndex=o,t.splice(o,0,{identifier:d,updater:u,references:1})}a.push(d)}return a}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var i=A(e=e||[],n=n||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var o=r(i[a]);t[o].references--}for(var s=A(e,n),c=0;c<i.length;c++){var l=r(i[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=s}}},659:e=>{var t={};e.exports=function(e,r){var A=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(r)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var A="";r.supports&&(A+="@supports (".concat(r.supports,") {")),r.media&&(A+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(A+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),A+=r.css,n&&(A+="}"),r.media&&(A+="}"),r.supports&&(A+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(A+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(A,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(A){var n=t[A];if(void 0!==n)return n.exports;var i=t[A]={id:A,exports:{}};return e[A](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var A in t)r.o(t,A)&&!r.o(e,A)&&Object.defineProperty(e,A,{enumerable:!0,get:t[A]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var A=t.getElementsByTagName("script");if(A.length)for(var n=A.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=A[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.nc=void 0;var A=r(72),n=r.n(A),i=r(825),a=r.n(i),o=r(659),s=r.n(o),c=r(56),l=r.n(c),d=r(540),p=r.n(d),C=r(113),u=r.n(C),f=r(664),h={};function m(e,...t){const r=document.createElement(`${e}`);for(const e of t)r.classList.add(`${e}`);return r}function g(e){e.classList.add("hidden")}function b(e){e.classList.remove("hidden")}function B(){return Math.floor(10*Math.random())}function y(e,t){if(e<0||e>9||t<0||t>9)return!0}function v(e){if("number"!=typeof e)return!0}function w(e){if(!v(e)&&!function(e){if(1===e)return!0}(e))return!0}function k(e){if(2===e)return!0}function x(e,t){return[[e-1,t-1],[e-1,t],[e-1,t+1],[e,t-1],[e,t+1],[e+1,t-1],[e+1,t],[e+1,t+1]].filter((e=>!y(e[0],e[1])))}h.styleTagTransform=u(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=p(),n()(f.A,h),f.A&&f.A.locals&&f.A.locals;const _=r.p+"c7f25a7c86dec9d41868.svg",E=r.p+"39af3af69a06c35b963e.svg";function S(e,t,r,A){let n=m("div","board__square");return k(r)&&(n=m("img","board__square","board__square--missed-shot"),n.src=_),v(r)&&(A||(n=m("div","ship-cover")),r.isPartHit(e,t)&&(n=m("img","board__square","board__square--succesfull-shot"),n.src=E)),n.dataset.x=e,n.dataset.y=t,n}function F(e,t,r){let A=e.board.grid;!function(e){for(;e.firstChild;)e.removeChild(e.lastChild)}(t);for(let n=0;n<A.length;n++)for(let i=0;i<A[n].length;i++){let A=e.board.getValueAt(n,i);t.append(S(n,i,A,r))}}const q=[{type:"carrier",length:4},{type:"battleship",length:3},{type:"battleship",length:3},{type:"cruiser",length:2},{type:"cruiser",length:2},{type:"cruiser",length:2},{type:"submarine",length:1},{type:"submarine",length:1},{type:"submarine",length:1},{type:"submarine",length:1}];class G{constructor(e,t=!1){const r=q.filter((t=>t.type===e))[0];if(!r)throw new Error("Invalid type of ship");this.type=r.type,this.length=r.length,this.timesHit=0,this.sunk=!1,this.flipped=t,this.partsHit=[]}hit(e,t){this.timesHit++,this.partsHit.push([e,t]),this.timesHit===this.length&&(this.sunk=!0)}isSunk(){return this.sunk}flip(){this.flipped=!this.flipped}isFlipped(){return this.flipped}isPartHit(e,t){for(let r=0;r<this.partsHit.length;r++){let A=this.partsHit[r][0],n=this.partsHit[r][1];if(A===e&&n===t)return!0}}}class I{constructor(){this.grid=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],this.missedAttacks=[]}getValueAt(e,t){try{return this.grid[e][t]}catch(e){}}setValueAt(e,t,r){try{this.grid[t][r]=e}catch(e){}}canReceiveAttack(e,t){let r=this.getValueAt(e,t);try{if(k(r))return!1;if(v(r)&&r.isPartHit(e,t))return!1}catch(e){return!1}return!0}receiveAttack(e,t){if(y(e,t))throw new Error("Invalid position");if(!this.canReceiveAttack(e,t))throw new Error("Can't attack here");const r=this.getValueAt(e,t);v(r)?r.hit(e,t):(this.missedAttacks.push([e,t]),this.setValueAt(2,e,t))}canPlaceShip(e,t,r,A){if(y(r,A))return!1;const n=new G(e,t);let i;for(let e=0;e<n.length;e++)if(i=n.isFlipped()?this.getValueAt(r,A+e):this.getValueAt(r+e,A),!w(i))return!1;return!0}placeShip(e,t,r,A){const n=new G(e,t);if(!this.canPlaceShip(e,t,r,A))throw new Error("Can't place a ship here");for(let e=0;e<n.length;e++)n.isFlipped()?this.setValueAt(n,r,A+e):this.setValueAt(n,r+e,A);!function(e,t,r,A){for(let n=0;n<t.length;n++){let i;i=t.isFlipped()?x(r,A+n):x(r+n,A);for(let t=0;t<i.length;t++){const r=i[t].shift(),A=i[t].shift();w(e[r][A])&&(e[r][A]=1)}}}(this.grid,n,r,A)}haveAllShipsSunk(){const e=this.grid;for(var t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++){const e=this.getValueAt(t,r);if(v(e)&&!e.isSunk())return!1}return!0}receiveRandomAttack(){let e=!1;for(;!e;){let t=B(),r=B();this.canReceiveAttack(t,r)&&(this.receiveAttack(t,r),e=!0)}}placeRandomShips(){this.grid=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];for(let e=0;e<q.length;e++){let t=q[e].type,r=!1;for(;!r;){let e=B(),A=B(),n=Math.random()<.5;this.canPlaceShip(t,n,e,A)&&(this.placeShip(t,n,e,A),r=!0)}}}}class H{constructor(e,t=!1){this.name=e,this.board=new I,this.isBot=t}}const j=document.querySelector(".actions-modal"),P=document.querySelector(".actions-modal__randomize"),R=document.querySelector(".actions-modal__start-game"),Y=document.querySelector(".win-modal"),M=document.querySelector(".win-modal__reset-btn");P.addEventListener("click",(()=>{J.board.placeRandomShips(),F(J,D)})),R.addEventListener("click",(()=>{g(j),b(L.parentElement),F(T,L,!0)})),M.addEventListener("click",(()=>{V=!1,J=new H("Player 1"),T=new H("Player 2",!0),J.board.placeRandomShips(),T.board.placeRandomShips(),F(J,D),F(T,L,!0),g(Y),g(L.parentElement),b(j)}));const D=document.querySelector('[data-player="Player 1"] .board__grid'),L=document.querySelector('[data-player="Player 2"] .board__grid');let J=new H("Player 1"),T=new H("Player 2",!0),V=!1;function W(e){var t;t=e.name,Y.firstElementChild.textContent=`Game over! ${t} won`,b(Y),V=!0,F(J,D),F(T,L)}J.board.placeRandomShips(),T.board.placeRandomShips(),L.addEventListener("click",(e=>{if(V)return;let t=e.target,r=parseInt(t.dataset.x),A=parseInt(t.dataset.y);T.board.canReceiveAttack(r,A)&&(function(e,t){T.board.receiveAttack(e,t),F(T,L,!0)}(r,A),T.board.haveAllShipsSunk()?W(J):(J.board.receiveRandomAttack(),F(J,D,!1),J.board.haveAllShipsSunk()&&W(T)))})),F(J,D)})();
//# sourceMappingURL=main.js.map